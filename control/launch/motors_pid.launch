<launch>
    <node name="speed_pid" ns="/driving_wheels" pkg="pid" type="controller" output="screen" >
        <param name="Kp" value="4.0" />
        <param name="Ki" value="0.0" />
        <param name="Kd" value="0.0" />
        <param name="rate" value="20" />
        <param name="upper_limit" value="2" />
        <param name="lower_limit" value="-2" />
        <param name="windup_limit" value="10" />
        <param name="cutoff_frequency" value="1.5" />
        <param name="diagnostic_period" value="0.25" />
        <remap from="control_effort" to="control_effort_speed" />
        <remap from="state" to="state_speed" />
        <remap from="setpoint" to="setpoint_speed" />

    </node>
    <!-- <node name="driving_sim_node" pkg="pid" type="plant_sim" ns="driving_wheels" output="screen" >
      <param name="plant_order" value="2" />
      <remap from="control_effort" to="control_effort_speed" />
        <remap from="state" to="state_speed" />
        <remap from="setpoint" to="setpoint_speed" />
    </node>
    <node name="setpoint_node" pkg="pid" type="setpoint_node" ns="driving_wheels" output="screen" >
        <remap from="setpoint" to="setpoint_speed" />
    </node> -->

    <node name="position_pid" ns="/steering_wheel" pkg="pid" type="controller" output="screen" >
        <param name="Kp" value="4.0" />
        <param name="Ki" value="0.0" />
        <param name="Kd" value="0.0" />
        <param name="rate" value="20" />
        <param name="upper_limit" value="0.34" />
        <param name="lower_limit" value="-0.34" />
        <param name="windup_limit" value="1" />
        <param name="cutoff_frequency" value="0.25" />
        <param name="diagnostic_period" value="0.25" />
        <remap from="control_effort" to="control_effort_position" />
        <remap from="state" to="state_position" />
        <remap from="setpoint" to="setpoint_position" />

    </node>
    <!-- <node name="steering_sim_node" pkg="pid" type="plant_sim" ns="steering_wheel" output="screen" >
      <param name="plant_order" value="2" />
      <remap from="control_effort" to="control_effort_position" />
        <remap from="state" to="state_position" />
        <remap from="setpoint" to="setpoint_position" />
    </node>
    <node name="setpoint_node" pkg="pid" type="setpoint_node" ns="steering_wheel" output="screen" >
        <remap from="setpoint" to="setpoint_position" />
    </node> -->

    <!-- rqt_plot is a resource hog, so if you're seeing high CPU usage, don't launch rqt_plot  -->
    <!-- <node name="rqt_plot_driving" pkg="rqt_plot" type="rqt_plot"
    args="/driving_wheels/control_effort_speed/data /driving_wheels/state_speed/data /driving_wheels/setpoint_speed/data" />
    
    <node name="rqt_plot_steering" pkg="rqt_plot" type="rqt_plot"
    args="/steering_wheel/control_effort_position/data /steering_wheel/state_position/data /steering_wheel/setpoint_position/data" />

    <node name="rqt_reconfigure" pkg="rqt_reconfigure" type="rqt_reconfigure" />

    <node name="rqt_robot_monitor" pkg="rqt_robot_monitor" type="rqt_robot_monitor" /> -->
    
</launch>